<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="stylesheet" href="enrollment.css">
<title>Enrollment Form</title>
</head>
<body>
  <div class="container">
    <h1>Enrollment Form</h1>
    <p class="small">Fill the form step-by-step. Required fields must be completed before moving next.</p>

    <form id="enrollmentForm" action="/enrollment" method="POST" enctype="multipart/form-data" novalidate>

      <div class="form-step active">
        <h2>1. Personal Information</h2>
        <div class="row">
          <div class="col">
            <label for="first_name">First Name *</label>
            <input id="first_name" name="first_name" type="text" required >
          </div>
          <div class="col">
            <label for="middle_name">Middle Name <small>(Optional)</small></label>
            <input id="middle_name" name="middle_name" type="text" >
          </div>
          <div class="col">
            <label for="last_name">Last Name *</label>
            <input id="last_name" name="last_name" type="text" required >
          </div>
        </div>

        <div class="row" style="margin-top:8px;">
          <div class="col">
            <label for="gender">Gender *</label>
            <select id="gender" name="gender" required>
              <option value="" disabled selected>Choose gender</option>
              <option>Male</option>
              <option>Female</option>
              <option>Prefer not to say</option>
            </select>
          </div>
          <div class="col">
            <label for="dob">Date of Birth *</label>
            <input id="dob" name="dob" type="date" required>
          </div>
        </div>

        <div class="actions">
          <button type="button" class="next-btn" onclick="nextStep()">Next</button>
        </div>
      </div>

      <div class="form-step">
        <h2>2. Contact Information</h2>
        <label for="email">Email <span class="required-star">*</span></label>
        <input id="email" name="email" type="email" required>

        <label for="phone">Phone Number *</label>
        <input id="phone" name="phone" type="tel" pattern="^\+?[0-9\s\-]{7,20}$" placeholder="+63..." required>
        <div class="note">Example: +639171234567 or 09171234567</div>

        <div class="actions">
          <button type="button" class="prev-btn" onclick="prevStep()">Previous</button>
          <button type="button" class="next-btn" onclick="nextStep()">Next</button>
        </div>
      </div>

      <div class="form-step">
        <h2>3. Academic Information</h2>
        <label for="year_level">Year Level *</label>
        <select id="year_level" name="year_level" required>
          <option value="" disabled selected>Select Year</option>
          <option>1st Year</option>
          <option>2nd Year</option>
          <option>3rd Year</option>
          <option>4th Year</option>
        </select>

        <label for="student_type">Student Type *</label>
        <select id="student_type" name="student_type" required>
          <option value="" disabled selected>Select Type</option>
          <option>Freshman</option>
          <option>Regular</option>
        </select>

        <div class="actions">
          <button type="button" class="prev-btn" onclick="prevStep()">Previous</button>
          <button type="button" class="next-btn" onclick="nextStep()">Next</button>
        </div>
      </div>

      <div class="form-step">
        <h2>4. Address Information</h2>
        <label for="address">Home Address *</label>
        <input id="address" name="address" type="text" required>

        <div class="row">
          <div class="col">
            <label for="city">City / Municipality *</label>
            <input id="city" name="city" type="text" required>
          </div>
          <div class="col">
            <label for="province">Province *</label>
            <input id="province" name="province" type="text" required>
          </div>
        </div>

        <div class="actions">
          <button type="button" class="prev-btn" onclick="prevStep()">Previous</button>
          <button type="button" class="next-btn" onclick="nextStep()">Next</button>
        </div>
      </div>

      <div class="form-step">
        <h2>5. Parent / Guardian Information</h2>
        <label for="guardian_name">Parent / Guardian Name *</label>
        <input id="guardian_name" name="guardian_name" type="text" required>

        <label for="guardian_phone">Contact Number *</label>
        <input id="guardian_phone" name="guardian_phone" type="tel" pattern="^\+?[0-9\s\-]{7,20}$" required>

        <div class="actions">
          <button type="button" class="prev-btn" onclick="prevStep()">Previous</button>
          <button type="button" class="next-btn" onclick="nextStep()">Next</button>
        </div>
      </div>

      <div class="form-step">
        <h2>6. Course Selection</h2>
        <label for="course">Desired Course *</label>
        <select id="course" name="course" required>
          <option value="" disabled selected>Choose Course</option>

          <optgroup label="College of Information & Communications Technology">
            <option>BS Information Technology (BSIT)</option>
            <option>BS Computer Science (BSCS)</option>
          </optgroup>

          <optgroup label="College of Business">
            <option>BS Business Administration (BSBA) - Marketing Management</option>
            <option>BS Business Administration (BSBA) - Human Resource Management</option>
            <option>BS Business Administration (BSBA) - Financial Management</option>
          </optgroup>

          <optgroup label="College of Hospitality & Tourism">
            <option>BS Hospitality Management (BSHM)</option>
            <option>BS Tourism Management (BSTM)</option>
          </optgroup>

          <optgroup label="College of Education">
            <option>Bachelor of Secondary Education (BSEd) - English</option>
            <option>Bachelor of Secondary Education (BSEd) - Science</option>
            <option>Bachelor of Secondary Education (BSEd) - Filipino</option>
            <option>Bachelor of Secondary Education (BSEd) - Math</option>
          </optgroup>

          <optgroup label="College of Criminology">
            <option>BS Criminology (BSCrim)</option>
          </optgroup>
        </select>

        <div class="actions">
          <button type="button" class="prev-btn" onclick="prevStep()">Previous</button>
          <button type="button" class="next-btn" onclick="nextStep()">Next</button>
        </div>
      </div>

      <div class="form-step">
        <h2>7. Upload ID Photo & Submit</h2>
        <label for="id_photo">Upload ID Photo *</label>
        <input id="id_photo" name="id_photo" type="file" accept="image/*" required>
        <div class="note">Accepted: JPG, PNG. Max recommended size: 2MB (server-side limit depends on backend).</div>

        <div class="actions">
          <button type="button" class="prev-btn" onclick="prevStep()">Previous</button>
          <button type="submit" class="submit-btn">Submit Enrollment</button>
        </div>
      </div>

    </form>
  </div>

<script>
  (function(){
    const steps = Array.from(document.querySelectorAll('.form-step'));
    let current = 0;

    window.showStep = function(step) {
      steps.forEach((el, idx) => el.classList.toggle('active', idx === step));
    };

    window.nextStep = function() {
      const currentEl = steps[current];
      // check inputs/selects in current step
      const invalid = currentEl.querySelector('input:invalid, select:invalid');
      if (invalid) {
        invalid.focus();
        alert('Please fill out required fields before continuing.');
        return;
      }
      if (current < steps.length - 1) {
        current++;
        showStep(current);
      }
    };

    window.prevStep = function() {
      if (current > 0) {
        current--;
        showStep(current);
      }
    };

    document.getElementById("enrollmentForm").addEventListener("keypress", function(event) {
    if (event.key === "Enter") {
        event.preventDefault(); // Prevent the form from submitting
    }
    
    });
  })();
</script>
</body>
</html>
